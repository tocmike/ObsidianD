---
source: http://132.145.94.68:8899/c/6a3a74c3-9919-47e8-a62a-7db9e1e4a3de
---
当然可以。以下是整套代码，用于从HTML文件中提取所需数据并保存为CSV格式：python
from bs4 import BeautifulSoup import csv # 1. 读取HTML文件 with open("path\_to\_your\_html\_file.html", 'r', encoding='utf-8') as file: content = file.read() # 2. 使用BeautifulSoup提取所需的数据 soup = BeautifulSoup(content, 'lxml') titles = \[\] views = \[\] upload\_dates = \[\] # 提取标题数据 for tag in soup.find\_all('a', class\_='name ellipsis'): titles.append(tag.get\_text()) # 提取播放量数据 for tag in soup.find\_all('div', title='播放'): views.append(tag.span.get\_text()) # 提取上传时间数据 for tag in soup.find\_all('span', class\_='date'): upload\_dates.append(tag.get\_text()) # 合并数据 data = list(zip(titles, views, upload\_dates)) # 3. 使用 utf-8-sig 编码保存CSV文件 with open("path\_to\_output\_csv\_file.csv", 'w', newline='', encoding='utf-8-sig') as csvfile: writer = csv.writer(csvfile) writer.writerow(\["标题", "播放量", "上传时间"\]) # 写入标题行 for row in data: writer.writerow(row)

您只需要修改path\_to\_your\_html\_file.html为您的HTML文件路径，并将path\_to\_output\_csv\_file.csv替换为您想要保存的CSV文件路径即可。在运行此代码之前，请确保您已经安装了BeautifulSoup库。如果没有，您可以使用以下命令安装：
pip install beautifulsoup4

希望这可以帮助您！如果您有其他问题，请随时告诉我。

%0A%E5%BD%93%E7%84%B6%E5%8F%AF%E4%BB%A5%E3%80%82%E4%BB%A5%E4%B8%8B%E6%98%AF%E6%95%B4%E5%A5%97%E4%BB%A3%E7%A0%81%EF%BC%8C%E7%94%A8%E4%BA%8E%E4%BB%8EHTML%E6%96%87%E4%BB%B6%E4%B8%AD%E6%8F%90%E5%8F%96%E6%89%80%E9%9C%80%E6%95%B0%E6%8D%AE%E5%B9%B6%E4%BF%9D%E5%AD%98%E4%B8%BACSV%E6%A0%BC%E5%BC%8F%EF%BC%9Apython%0Afrom%20bs4%20import%20BeautifulSoup%20import%20csv%20%23%201.%20%E8%AF%BB%E5%8F%96HTML%E6%96%87%E4%BB%B6%20with%20open(%22path\_to\_your\_html\_file.html%22%2C%20'r'%2C%20encoding%3D'utf-8')%20as%20file%3A%20content%20%3D%20file.read()%20%23%202.%20%E4%BD%BF%E7%94%A8BeautifulSoup%E6%8F%90%E5%8F%96%E6%89%80%E9%9C%80%E7%9A%84%E6%95%B0%E6%8D%AE%20soup%20%3D%20BeautifulSoup(content%2C%20'lxml')%20titles%20%3D%20%5B%5D%20views%20%3D%20%5B%5D%20upload\_dates%20%3D%20%5B%5D%20%23%20%E6%8F%90%E5%8F%96%E6%A0%87%E9%A2%98%E6%95%B0%E6%8D%AE%20for%20tag%20in%20soup.find\_all('a'%2C%20class\_%3D'name%20ellipsis')%3A%20titles.append(tag.get\_text())%20%23%20%E6%8F%90%E5%8F%96%E6%92%AD%E6%94%BE%E9%87%8F%E6%95%B0%E6%8D%AE%20for%20tag%20in%20soup.find\_all('div'%2C%20title%3D'%E6%92%AD%E6%94%BE')%3A%20views.append(tag.span.get\_text())%20%23%20%E6%8F%90%E5%8F%96%E4%B8%8A%E4%BC%A0%E6%97%B6%E9%97%B4%E6%95%B0%E6%8D%AE%20for%20tag%20in%20soup.find\_all('span'%2C%20class\_%3D'date')%3A%20upload\_dates.append(tag.get\_text())%20%23%20%E5%90%88%E5%B9%B6%E6%95%B0%E6%8D%AE%20data%20%3D%20list(zip(titles%2C%20views%2C%20upload\_dates))%20%23%203.%20%E4%BD%BF%E7%94%A8%20utf-8-sig%20%E7%BC%96%E7%A0%81%E4%BF%9D%E5%AD%98CSV%E6%96%87%E4%BB%B6%20with%20open(%22path\_to\_output\_csv\_file.csv%22%2C%20'w'%2C%20newline%3D''%2C%20encoding%3D'utf-8-sig')%20as%20csvfile%3A%20writer%20%3D%20csv.writer(csvfile)%20writer.writerow(%5B%22%E6%A0%87%E9%A2%98%22%2C%20%22%E6%92%AD%E6%94%BE%E9%87%8F%22%2C%20%22%E4%B8%8A%E4%BC%A0%E6%97%B6%E9%97%B4%22%5D)%20%23%20%E5%86%99%E5%85%A5%E6%A0%87%E9%A2%98%E8%A1%8C%20for%20row%20in%20data%3A%20writer.writerow(row)%0A%0A%E6%82%A8%E5%8F%AA%E9%9C%80%E8%A6%81%E4%BF%AE%E6%94%B9path\_to\_your\_html\_file.html%E4%B8%BA%E6%82%A8%E7%9A%84HTML%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%EF%BC%8C%E5%B9%B6%E5%B0%86path\_to\_output\_csv\_file.csv%E6%9B%BF%E6%8D%A2%E4%B8%BA%E6%82%A8%E6%83%B3%E8%A6%81%E4%BF%9D%E5%AD%98%E7%9A%84CSV%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84%E5%8D%B3%E5%8F%AF%E3%80%82%E5%9C%A8%E8%BF%90%E8%A1%8C%E6%AD%A4%E4%BB%A3%E7%A0%81%E4%B9%8B%E5%89%8D%EF%BC%8C%E8%AF%B7%E7%A1%AE%E4%BF%9D%E6%82%A8%E5%B7%B2%E7%BB%8F%E5%AE%89%E8%A3%85%E4%BA%86BeautifulSoup%E5%BA%93%E3%80%82%E5%A6%82%E6%9E%9C%E6%B2%A1%E6%9C%89%EF%BC%8C%E6%82%A8%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E5%AE%89%E8%A3%85%EF%BC%9A%0Apip%20install%20beautifulsoup4%0A%0A%E5%B8%8C%E6%9C%9B%E8%BF%99%E5%8F%AF%E4%BB%A5%E5%B8%AE%E5%8A%A9%E6%82%A8%EF%BC%81%E5%A6%82%E6%9E%9C%E6%82%A8%E6%9C%89%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98%EF%BC%8C%E8%AF%B7%E9%9A%8F%E6%97%B6%E5%91%8A%E8%AF%89%E6%88%91%E3%80%82
